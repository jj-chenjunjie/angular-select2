/*! angular-select2 2016-03-30 */
!function(){angular.module("ui",[]).directive("angularSelect2",function(a){return{scope:{angularSelect2:"=",ngModel:"="},restrict:"A",link:{pre:function(b,c,d,e){function f(){c.html(d.allowClear?"<option></option>":""),g=b.angularSelect2 instanceof Array?c.select2({data:b.angularSelect2}):b.angularSelect2 instanceof Object?c.select2(b.angularSelect2):c.select2({data:h}),g.val(b.ngModel).trigger("change.select2")}var g,h;b.angularSelect2 instanceof Array?h=b.angularSelect2:b.angularSelect2 instanceof Object?h=b.angularSelect2.data:a.get(d.url).success(function(a){h=a,f()}),b.$watch("angularSelect2",function(a,b,c){a&&f()}),b.$watch("ngModel",function(a,b,e){console.log("ngModel",a,b),e.ngModel||d.allowClear||(e.ngModel=h&&h[0]&&h[0].id);var f=c.children().first();f&&f.val()&&f.val().indexOf("?")>=0&&c.children().first().remove(),g&&g.val(e.ngModel).trigger("change.select2")})},post:function(a,b,c,d){}}}})}();